<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KP Premium Social Accounts & Notes</title>
    <style>
        :root{--bg:#0a0a1a;--card:#151528;--text:#e0e0ff;--accent:#00ff9d;--shadow:0 0 40px rgba(0,255,157,0.25);}
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:'Pyidaungsu',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column;line-height:1.7;}
        header{background:linear-gradient(135deg,#00ff9d,#00cc7a);padding:20px;text-align:center;font-size:2.2em;font-weight:bold;color:#000;box-shadow:0 5px 20px rgba(0,255,157,0.4);}
        main{flex:1;padding:20px;display:flex;flex-direction:column;align-items:center;gap:25px;max-width:1000px;margin:auto;width:100%;}
        #note{width:100%;min-height:65vh;padding:30px;font-size:1.35em;background:var(--card);border:3px solid var(--accent);border-radius:25px;box-shadow:var(--shadow);transition:all 0.4s;overflow:auto;}
        #note:focus{outline:none;box-shadow:0 0 60px rgba(0,255,157,0.5);}
        .pw-box{width:100%;max-width:420px;background:var(--card);padding:30px;border-radius:25px;border:2px solid #333;text-align:center;box-shadow:var(--shadow);}
        input{width:100%;padding:18px;font-size:1.3em;background:#222;color:white;border:none;border-radius:50px;text-align:center;margin-bottom:15px;}
        button{width:100%;padding:18px;background:var(--accent);color:#000;border:none;border-radius:50px;font-size:1.3em;font-weight:bold;cursor:pointer;transition:0.3s;}
        button:hover{transform:scale(1.05);box-shadow:0 10px 30px rgba(0,255,157,0.5);}
        footer{padding:20px;text-align:center;color:#666;font-size:0.95em;background:rgba(0,0,0,0.3);}
        @media(max-width:600px){#note{font-size:1.2em;padding:20px;} header{font-size:1.8em;}}
    </style>
</head>
<body>
    <header>KP Premium Social Accounts & Notes</header>
    
    <main>
        <div id="note" contenteditable="false">
            စောင့်နေပါ၊ နောက်ဆုံး မှတ်စုကို ရယူနေပါသည်...
        </div>

        <div class="pw-box">
            <input type="password" id="pass" placeholder="စကားဝှက်ရိုက်ပါ">
            <button onclick="unlock()">ပြင်ဆင်ဖွင့်မယ်</button>
        </div>
    </main>

    <footer>© KP • လူတိုင်းမြင်ရ • ငါတစ်ယောက်ပဲ ပြင်ရ</footer>

    <script>
        const note = document.getElementById("note");
        const correctPass = "232003"; // <<< မင်းစကားဝှက် ဒီမှာ ပြောင်းလိုက်!!!

        // အလုပ်ဖြစ်တဲ့ URL (GitHub Raw + jsDelivr)
        const GITHUB_RAW = "https://raw.githubusercontent.com/kpbykp/premium-notes/main/note.txt";
        const CDN_URL = "https://cdn.jsdelivr.net/gh/kpbykp/premium-notes/note.txt";

        // မှတ်စုကို ရယူခြင်း
        async function fetchNote() {
            try {
                const res = await fetch(CDN_URL + "?t=" + Date.now());
                if (res.ok) {
                    note.innerHTML = await res.text();
                } else {
                    note.innerHTML = "ခဏစောင့်ပါ... ဒါမှမဟုတ် အင်တာနက်စစ်ပါ။";
                }
            } catch (e) {
                note.innerHTML = "အင်တာနက်မရှိပါ / ခဏစောင့်ပါ...";
            }
        }

        // မှတ်စုကို သိမ်းခြင်း (GitHub မှာ မင်း repo ထဲကို အလိုအလျောက် တင်မယ်)
        async function saveNote() {
            const content = note.innerHTML;
            const token = prompt("GitHub Personal Access Token ထည့်ပါ (တစ်ခါပဲ လိုတယ်):");
            if (!token) return;

            const apiUrl = "https://api.github.com/repos/kpbykp/premium-notes/contents/note.txt";
            const current = await (await fetch(apiUrl)).json();

            await fetch(apiUrl, {
                method: "PUT",
                headers: {
                    "Authorization": "token " + token,
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    message: "Update note - " + new Date().toLocaleString("my-MM"),
                    content: btoa(unescape(encodeURIComponent(content))),
                    sha: current.sha,
                    branch: "main"
                })
            });
            alert("တင်ပြီးပါပြီ! လူတိုင်း ချက်ချင်း မြင်ရပါမယ်");
        }

        function unlock() {
            if (document.getElementById("pass").value === correctPass) {
                note.contentEditable = true;
                note.focus();
                document.querySelector("button").textContent = "သိမ်းမယ် (GitHub သို့)";
                document.querySelector("button").onclick = saveNote;
                document.querySelector("button").style.background = "#ff4757";
            } else {
                alert("စကားဝှက် မှားတယ် ကွာ");
            }
        }

        // စတင်ဝင်တာနဲ့ ချက်ချင်း ရယူ
        fetchNote();
        setInterval(fetchNote, 8000); // ၈ စက္ကန့်တစ်ခါ ပြန်စစ် (တခြားသူ တင်ရင် ချက်ချင်းပေါ်)
    </script>
</body>
</html>
